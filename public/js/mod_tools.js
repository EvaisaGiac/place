window.ModTools={init:function(){this.initSpamBlocks(),this.initContextMenu(),App.alert("Moderation tools loaded"),setTimeout(function(){App.alert(null)}.bind(this),5e3)},initSpamBlocks:function(){var e=-1,n=-1,t=!1;App.elements.board.on("mousemove",function(o){var i=App.screenToBoardSpace(o.clientX,o.clientY),a=!1;e!=i.x&&(a=!0,e=i.x),n!=i.y&&(a=!0,n=i.y),a&&t&&App.place(e,n)}),$(document).on("mousedown",function(e){2==e.which&&(t=!t,$(".spam-enabled").text("Spam Enabled: "+t),e.preventDefault())}),$(".bubble-container").empty(),$("<div>",{class:"bubble spam-enabled"}).text("Spam Enabled: false").appendTo(".bubble-container")},initContextMenu:function(){$.contextMenu("destroy"),$.contextMenu({selector:".username",trigger:"right",zIndex:1e3,items:{spectate:{name:"Spectate",callback:function(e,n){App.spectate(n.$trigger.text())}},sep1:"",cooldown:{name:"Cooldown",callback:function(e,n){App.socket.send(JSON.stringify({type:"cooldown",session_id:n.$trigger.text()}))}},ban:{name:"Ban",callback:function(e,n){App.socket.send(JSON.stringify({type:"ban",session_id:n.$trigger.text()}))}}}})}},ModTools.init();