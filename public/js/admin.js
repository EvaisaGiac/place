window.AdminTools={elements:{toolsContainer:$(".tools-container"),backupsContainer:$(".backups-container"),toolsToggle:$(".toggle-tools"),backupsToggle:$(".toggle-backups")},init:function(){this.backupList=null,this.elements.toolsToggle.click(function(){this.elements.toolsContainer.toggle(),this.elements.toolsContainer.is(":visible")&&this.elements.backupsContainer.hide()}.bind(this)),this.elements.backupsToggle.click(function(){this.elements.backupsContainer.toggle(),this.elements.backupsContainer.is(":visible")&&(this.elements.toolsContainer.hide(),null===this.backupList&&this.loadBackups())}.bind(this)),this.initTools()},initTools:function(){var t=$("<div>",{text:"Clear Square"});t.click(this.toolClearSquare.bind(this)),this.elements.toolsContainer.append(t)},toolClearSquare:function(){ModTools.startSelectionMode(function(t,i){$.post({url:"/admin/delete",data:{startx:t.x,starty:t.y,endx:i.x,endy:i.y}})}.bind(this))},loadBackups:function(){$.get("/admin/backups",function(t){t.forEach(function(t){$("<div>").text(t).appendTo(this.elements.backupsContainer)}.bind(this)),this.backupList=t}.bind(this))}},$.get("/js/app.js",function(t){$.get("/js/mod_tools.js",function(t){AdminTools.init()})});